# ═══════════════════════════════════════════════
# Media Tools API — Environment Variables
# Copy this to .env and fill in your values:
#   cp .env.example .env
# ═══════════════════════════════════════════════

# Server
PORT=8080
GIN_MODE=debug            # debug, release, test

# Database (PostgreSQL)
DATABASE_URL=postgres://postgres:postgres@localhost:5432/media_tools?sslmode=disable

# YouTube transcript extraction
YT_DLP_PATH=              # Leave empty to auto-detect, or set path explicitly

# OpenRouter AI (for summaries)
# Get your key at: https://openrouter.ai/keys
OPENROUTER_API_KEY=
OPENROUTER_MODEL=openai/gpt-4o-mini    # Default model for summaries

# OpenAI (Whisper API for audio transcription)
OPENAI_API_KEY=

# JWT Authentication (MTA-20)
JWT_SECRET=your-secret-key-change-me   # MUST change in production!

# Admin API Key (for creating API keys)
# In production, this is REQUIRED to protect the API key creation endpoint.
# Use: curl -H "X-Admin-Key: your-admin-key" -X POST /api/v1/keys ...
ADMIN_API_KEY=

# Worker pool
WORKER_COUNT=3            # Number of background workers
JOB_QUEUE_SIZE=100        # Max pending jobs in queue

# Rate limiting
DEFAULT_RATE_LIMIT=100    # Requests per hour per API key

# CORS
CORS_ORIGIN=http://localhost:5173     # Frontend URL (in prod: https://your-app.netlify.app)

# ═══════════════════════════════════════════════
# PRODUCTION DEPLOYMENT NOTES
# ═══════════════════════════════════════════════
# 
# Render (Backend):
#   - GIN_MODE=release
#   - DATABASE_URL=postgres://...@neon.tech/...?sslmode=require
#   - CORS_ORIGIN=https://your-app.netlify.app
#   - JWT_SECRET=(generate secure key: openssl rand -base64 32)
#   - ADMIN_API_KEY=(generate secure key: openssl rand -base64 32)
#
# Netlify (Frontend):
#   - VITE_API_URL=https://your-api.onrender.com
#
# Neon (Database):
#   - Use pooled connection string for better performance
#   - Ensure ?sslmode=require in DATABASE_URL
